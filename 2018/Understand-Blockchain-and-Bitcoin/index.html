<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
































<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.6.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=6.6.0">


  <link rel="mask-icon" href="/safari-pinned-tab.svg?v=6.6.0" color="#222">









<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.6.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="区块链是相当热门的一项技术创新。媒体，投资人和庄家把这项技术推到了一个极高的位置。区块链被认为在金融、征信、贸易、资产管理等众多领域都拥有广泛的应用前景。区块链到底是什么，能解决什么样问题？如何从技术实现的角度去理解区块链？">
<meta name="keywords" content="Blockchain,Bitcoin">
<meta property="og:type" content="article">
<meta property="og:title" content="理解区块链和比特币(一)">
<meta property="og:url" content="http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/index.html">
<meta property="og:site_name" content="RayDBG">
<meta property="og:description" content="区块链是相当热门的一项技术创新。媒体，投资人和庄家把这项技术推到了一个极高的位置。区块链被认为在金融、征信、贸易、资产管理等众多领域都拥有广泛的应用前景。区块链到底是什么，能解决什么样问题？如何从技术实现的角度去理解区块链？">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/transctionmodel.gif">
<meta property="og:image" content="http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/transctionchain.gif">
<meta property="og:image" content="http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/block.png">
<meta property="og:image" content="http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/PoW.gif">
<meta property="og:updated_time" content="2019-05-01T06:43:51.095Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="理解区块链和比特币(一)">
<meta name="twitter:description" content="区块链是相当热门的一项技术创新。媒体，投资人和庄家把这项技术推到了一个极高的位置。区块链被认为在金融、征信、贸易、资产管理等众多领域都拥有广泛的应用前景。区块链到底是什么，能解决什么样问题？如何从技术实现的角度去理解区块链？">
<meta name="twitter:image" content="http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/transctionmodel.gif">






  <link rel="canonical" href="http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>理解区块链和比特币(一) | RayDBG</title>
  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-109690789-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-109690789-1');
</script>









  <noscript>
  <style>
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion .logo-line-before i { left: initial; }
    .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">RayDBG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Life debugger.</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ray Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RayDBG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">理解区块链和比特币(一)

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-03-08 11:12:12" itemprop="dateCreated datePublished" datetime="2018-03-08T11:12:12+08:00">2018-03-08</time>
            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/Understand-Blockchain-and-Bitcoin/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/Understand-Blockchain-and-Bitcoin/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             Views:  
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>区块链是相当热门的一项技术创新。媒体，投资人和庄家把这项技术推到了一个极高的位置。区块链被认为在金融、征信、贸易、资产管理等众多领域都拥有广泛的应用前景。<br>区块链到底是什么，能解决什么样问题？如何从技术实现的角度去理解区块链？<br><a id="more"></a></p>
<h1 id="本质"><a href="#本质" class="headerlink" title="本质"></a>本质</h1><p>从Bitcoin最初发表的论文看，他所设计的是一套P2P环境下的数字货币系统，实现了在不依赖金融机构的情况下进行货币交易.<br>在实现上， Bitcoin主要做了两件事情:</p>
<pre><code>1. 引入了一套基于密码学的电子交易记账方式。
2. 为了解决这种交易记账方式在分布式P2P网络环境下面临的一些列问题，引入了区块链和工作量证明机制。
</code></pre><p>实际上，Bitcoin描绘了这样的一个场景：</p>
<blockquote>
<p>存在一个总账本，它记录了所有用户之间的交易信息；<br>每一条记录都是真实可靠的，经过验证的，并且得到了所有人的认可。<br>每个用户都有一本总帐本的复本，都有权力去查看交易记录。</p>
</blockquote>
<p>在这种场景下，在线交易的双方可以不再需要金融机构的介入，数字资产能够安全可靠的实现交付。为了达到这样的目的，比特币尝试了一套非常特殊的设计。</p>
<h1 id="基于密码学的记账方式"><a href="#基于密码学的记账方式" class="headerlink" title="基于密码学的记账方式"></a>基于密码学的记账方式</h1><p>直观上，比特币网络需要一个总账本（Ledger），用来记载的用户之间的交易（Transaction）。交易这个行为可以被简化成用户X给了用户Y一笔钱S，那么在账本上这个最简单的交易信息可以被记录为：<code>[用户X 支付 金额S 给用户Y]</code>。<br>但是这样并不够，我们还需要知道：</p>
<pre><code>1.    用户X完成付款资金来源以及有没有足够的钱来完成这笔支付；
2.    如何验证这笔交易是用户X发起的；
</code></pre><h2 id="用户X拿什么来支付？"><a href="#用户X拿什么来支付？" class="headerlink" title="用户X拿什么来支付？"></a>用户X拿什么来支付？</h2><p>Bitcoin规定，每一笔交易都要依赖前一笔或几笔未花费的交易（UTXO，Unspent Transaction Output），这和支票有些相似。简单的说（不考虑找零的情况），用户X曾经收到过一笔来其他人的转账，之后他才可以用这笔转账来给别人支付。例如之前存在一笔交易<code>[用户Z 支付 金额S 给 用户X]</code>，交易编号为001，那么当前的交易可以是 <code>[用户X 使用 [交易001的收入] 支付 金额S 给 用户Y]</code>，交易编号为002。类似的，用户Y收到这笔交易后，可以继续使用交易002进行其他支付。可以看到，这里的交易信息结构将会是一个链式结构（单向的树状）。</p>
<h2 id="如何对交易进行签名和验证。"><a href="#如何对交易进行签名和验证。" class="headerlink" title="如何对交易进行签名和验证。"></a>如何对交易进行签名和验证。</h2><p>对于一个比特币用户，他需要拿到一套非对称密钥。用户的私钥需要用户自己保存好，不能泄露。用户的公钥可以作为接受转账的地址（实际上，公钥到地址的转换还需要经过一些列的哈希变换）。<br>要发起一个交易，发起者用户X需要填写如下内容：</p>
<pre><code>*    这笔支付的资金来源，也就是之前收到的“支票”ID。
*    用户X使用他的私钥对这笔交易内容的的数字签名。（实际是对[交易内容+前一个交易]的hash值签名）
*    接收方（用户Y）的公钥。
</code></pre><img src="/2018/Understand-Blockchain-and-Bitcoin/transctionmodel.gif" width="500">
<p>此时，我们记载一条账目到总账本的流程可以如下描述：</p>
<pre><code>1. 用户X发起一个交易请求：[用户X 使用 [一笔存在的转账] 支付 金额S 给用户Y]+[用户X对这笔交易的数字签名]。
2. 在记录到账本上之前，需要验证这样几个事情：
    a. 这笔交易的数字签名是否真实有效。（用上一笔交易中的公钥解密签名，计算[交易内容+前一个交易]的hash值，判断这两个值是否相等）
    b. 查阅账本，查看资金来源未被用户X使用过。
    c. 检查交易是否合法：资金来源的支票的金额大于等于要支付金额。
3. 如果上述检查通过，所有人都同意交易合法，那么就在总账本上记下来。
</code></pre><img src="/2018/Understand-Blockchain-and-Bitcoin/transctionchain.gif" width="500">
<p>上述流程保证了交易信息的真实可靠，无法伪造，也定义出了交易信息的格式。</p>
<blockquote>
<p>Note* 这里尽量避免使用余额这个概念，因为这个账本上是不会记账某个用户的余额信息的，只记载用户之间交易信息。</p>
</blockquote>
<h1 id="如何在P2P环境下维护一个总账本"><a href="#如何在P2P环境下维护一个总账本" class="headerlink" title="如何在P2P环境下维护一个总账本"></a>如何在P2P环境下维护一个总账本</h1><p>所谓的总帐本是不存在的，比特币网络实际上是让所有的节点手里都有一本内容一致的账本。也就是说任何一笔新的交易产生，每个人手里的账本都要增加这条交易记录。<br>此时，在这样一个P2P环境下面，会存在如下的问题：</p>
<pre><code>1.    如何同步全网交易记录。例如，某用户离线了一天，这一天之内的交易该用户并没有收到，怎么去找这些记录？
2.    如何保证节点所同步到的交易记录是未经篡改的？
3.    如果保证双重支付（double spending）的问题不会发生？例如，如何阻止用户X发起两笔交易把同一张10块钱既支付给了Y，又支付给了Z。
</code></pre><p>实际上，这些问题与分布式数据库的一致性问题非常相似。分布式数据库往往是通过一个全网同步的高精度时间服务器给交易加时间戳方法来解决这些问题。但在P2P的结构下，这种基于高精度时间戳方案不可行。比特币网络在这个时候引入区块链和工作量证明（Proof of work）来解决这些问题。</p>
<h2 id="区块"><a href="#区块" class="headerlink" title="区块"></a>区块</h2><p>区块（Block），就是一堆交易的集合，类似与数据库中需要提交（commit）的一个事务（transaction）。当比特币网络中产生了一定数量的交易，经过验证这些交易都是合法有效的，那么就把这些交易信息就可以打包成一个区块，并且在这个区块的头部记录下前一个区块的信息（哈希值），再把这个区块放到上一个区块的后面。如此往复，所有的交易都被打包存储在一个一个的链式的区块中。这个由区块组成的链式结构就是全网共同所有的总账本。所有的节点只要同步好这些区块，就能获得这个账本上所有的交易信息，这解决了问题1.<br><img src="/2018/Understand-Blockchain-and-Bitcoin/block.png"><br>此时，又有了这样两个问题：</p>
<pre><code>4.    打包区块的事情显然每个节点都可以做，同一时间可能会有大量的区块被提交，节点到底认可哪个块，并加入到手里的区块链中？
5.    打包区块这么“无聊”的事情，节点凭什么愿意做？
</code></pre><h2 id="工作量证明"><a href="#工作量证明" class="headerlink" title="工作量证明"></a>工作量证明</h2><p>对于问题4，比特币网络采取了一个“延缓”打包的策略。既然大家都会打包，那我就不让你们轻松的把包打出来，在一定的时间内，保证全网只有一个区块被打包出来。<br>比特币网络增加了一个这样的要求：</p>
<blockquote>
<p>   SHA256(打包好的所有交易信息 + 节点找到的一个数字)的哈希结果的前n位必须是0（实现上要求这个哈希值小于某个目标值）。</p>
</blockquote>
<img src="/2018/Understand-Blockchain-and-Bitcoin/PoW.gif" width="800">
<p>就是说，节点光记录好交易的信息是不够的，还要找到一个特定的数字<code>nonce</code>，让（<code>交易记录集合</code>+<code>nonce</code>）的哈希结果的前n位为0（n常见为16）。找这个<code>nonce</code>的过程，被称为挖矿，做这个事情的节点就是矿工。这就有意思了，因为哈希结果是不可预知的，没有捷径可走，所以矿工只能一个数字一个数字的去试，直到哈希出来的结果符合要求，猜中这个<code>nonce</code>的概率等价于“抛硬币连续n次是正面”的概率。这个<code>nonce</code>被称作工作量证明。加上这个极其变态和无聊的规则之后，全网所有的矿工往往只有一个人能在十分钟之内找到一个<code>nonce</code>。此时，当一个矿工节点把一个新区块广播出去的时候，其他节点往往还在苦苦寻找<code>nonce</code>。其他人一旦收到这个区块，立刻停下手里的工作，验证一下<code>nonce</code>是否正确，区块内的交易是否合法。若验证通过，就把这个区块加到自己维护的主链中，然后继续打包那些未被区块记录的交易；如果未能通过验证，则抛弃这个块，继续刚刚的工作。</p>
<h2 id="Fork"><a href="#Fork" class="headerlink" title="Fork"></a>Fork</h2><p>虽然这个要求非常难以满足，但是还是会存在两个矿工差不多同时广播出两个合法的区情况块。既然都合法，节点就继续在先收到的区块后面继续工作，并保留另一个合法的区块。然后等等看，过一会肯定还会收到新的区块，那时再看看这个新的区块的头部包含这两个中的哪一个区块的哈希，包含哪个区块，哪个块就作为有效块，舍弃另外一个，如此下去。这套机制保证了在一定的时间内全网最长的主链会收敛到一致的状态。（其他特殊状况这里暂不讨论）</p>
<h2 id="The-Magic"><a href="#The-Magic" class="headerlink" title="The Magic"></a>The Magic</h2><p>神奇的是，这个奇葩的规则和区块链结合在一起也一并解决了问题2和问题3，因为：</p>
<pre><code>1.    如果有人要篡改交易信息，意味着：
    i.    他要控制大量的节点（&gt;50%），才能保证修改结果被剩下的人接受。
    ii.    修改或者伪造一条交易，意味其后所有区块中包含的nonce值都要重新计算，这个计算量大到不可能。
2.    全网主链状态唯一，账本信息一致，因此double spending这种非法交易肯定被拒绝。
</code></pre><p>这个诡异的计算“游戏”还能控制难度：如果越来越多的算力加入计算，只要增加哈希结果最前面0的个数要求（目标哈希值越小，越难），就可以指数级增加难度。比特币网络会自动根据出块的平均速度自动调整难度，保证平均只有10分钟之内只出一个块。</p>
<h2 id="比特币的诞生"><a href="#比特币的诞生" class="headerlink" title="比特币的诞生"></a>比特币的诞生</h2><p>对于问题5，比特币网络决定给成功打包并被全网认可的矿工一定的比特币作为奖励。<strong>此时比特币就凭空诞生了！</strong>如果去检查每一笔交易的支付来源，不断的追溯源头，一定是落在了某个挖矿奖励上（Coinbase）。比特币网络又规定，初始挖矿的奖励是每打包出一个区块给50比特币，全网每生产出21000个区块，奖励减半。奖励减半机制是得能够用于奖励矿工的比特币总量收敛在2100万个（差一点点）。<br>没有奖励之后还会有人挖矿吗？会，慢慢的，一个区块中所有交易的转账手续费会成为矿工的主要收入。</p>
<h1 id="总结起来"><a href="#总结起来" class="headerlink" title="总结起来"></a>总结起来</h1><p>比特币网络首先引入了一套加密的电子交易记账方式。为了解决这种交易记账方式在分布式网络下面临的问题，引入了区块链和工作量证明机制。</p>
<p>Reference:</p>
<ul>
<li><a href="https://bitcoin.org/bitcoin.pdf" target="_blank" rel="noopener">Bitcoin: A Peer-to-Peer Electronic Cash System</a></li>
<li><a href="https://www.gitbook.com/book/yeasy/blockchain_guide" target="_blank" rel="noopener">区块链技术指南</a></li>
<li>动图 CopyRight <a href="https://twitter.com/markrussinovich" target="_blank" rel="noopener">Mark Russinovich</a></li>
</ul>

      
    </div>

    

    
    
    

    

    
      
    
    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div></div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/payQR-wechat.png" alt="Ray Wang WeChat Pay">
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/payQR.jpg" alt="Ray Wang Alipay">
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
      <div>
        



  



<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Ray Wang</li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    
    <a href="http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/" title="理解区块链和比特币(一)">http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Blockchain/" rel="tag"># Blockchain</a>
          
            <a href="/tags/Bitcoin/" rel="tag"># Bitcoin</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/Call-Native-Win32-API-in-PowerShell/" rel="next" title="Call Native Win32 API in PowerShell">
                <i class="fa fa-chevron-left"></i> Call Native Win32 API in PowerShell
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/Understand-Blockchain-and-Bitcoin-2/" rel="prev" title="理解区块链和比特币（二）">
                理解区块链和比特币（二） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.jpg" alt="Ray Wang">
            
              <p class="site-author-name" itemprop="name">Ray Wang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">26</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">38</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Adamus7" title="GitHub &rarr; https://github.com/Adamus7" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.linkedin.com/in/ray-wang-38721994" title="Linkedin &rarr; https://www.linkedin.com/in/ray-wang-38721994" rel="noopener" target="_blank"><i class="fa fa-fw fa-linkedin"></i>Linkedin</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#本质"><span class="nav-number">1.</span> <span class="nav-text">本质</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基于密码学的记账方式"><span class="nav-number">2.</span> <span class="nav-text">基于密码学的记账方式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#用户X拿什么来支付？"><span class="nav-number">2.1.</span> <span class="nav-text">用户X拿什么来支付？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如何对交易进行签名和验证。"><span class="nav-number">2.2.</span> <span class="nav-text">如何对交易进行签名和验证。</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何在P2P环境下维护一个总账本"><span class="nav-number">3.</span> <span class="nav-text">如何在P2P环境下维护一个总账本</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#区块"><span class="nav-number">3.1.</span> <span class="nav-text">区块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#工作量证明"><span class="nav-number">3.2.</span> <span class="nav-text">工作量证明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fork"><span class="nav-number">3.3.</span> <span class="nav-text">Fork</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#The-Magic"><span class="nav-number">3.4.</span> <span class="nav-text">The Magic</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#比特币的诞生"><span class="nav-number">3.5.</span> <span class="nav-text">比特币的诞生</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#总结起来"><span class="nav-number">4.</span> <span class="nav-text">总结起来</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ray Wang</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v6.6.0</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="Total Visitors">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="Total Views">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script src="/js/src/utils.js?v=6.6.0"></script>

  <script src="/js/src/motion.js?v=6.6.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.6.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.6.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.6.0"></script>
<script src="/js/src/post-details.js?v=6.6.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.6.0"></script>



  

  
    <script id="dsq-count-scr" src="https://www-raydbg-com.disqus.com/count.js" async></script>
  

  
    <script>
      var disqus_config = function () {
        this.page.url = "http://www.raydbg.com/2018/Understand-Blockchain-and-Bitcoin/";
        this.page.identifier = "2018/Understand-Blockchain-and-Bitcoin/";
        this.page.title = '理解区块链和比特币(一)';
        };
      function loadComments () {
        var d = document, s = d.createElement('script');
        s.src = 'https://www-raydbg-com.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      }
      
        loadComments();
      
    </script>
  













  





  

  

  

  

  

  
  

  

  

  

  

  

  

</body>
</html>
