webpackJsonp([1],{136:function(e,t,a){var n=a(0)(a(269),a(640),function(e){a(499)},"data-v-8f56caf2",null);e.exports=n.exports},153:function(e,t,a){var n=a(0)(a(296),a(598),function(e){a(451),a(452)},"data-v-3a502162",null);e.exports=n.exports},195:function(e,t,a){"use strict";var n=a(14),s=a.n(n);t.a=function(e){var n=e,i=null;try{i=App.vm.$store.getters.getUserInfo.openFlag}catch(e){}return new s.a(function(t,a){0==i?window.AlipayJSBridge.call("SMSEncrypt",{SMS:e},function(e){"0"==e.result?(n=e.SMS,t(n)):(App.Native.alert(e.errorMsg),a("err"))}):t(n)})}},209:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),i=(a(3),a(2)),s=a(153),r=a.n(s);App.vm=new n.default({mixins:i.a,render:function(e){return e(r.a)}})},266:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),s=a.n(n),i=a(14),r=a.n(i),l=a(6),c=a.n(l),o=a(11),u=a.n(o),d=a(8),p=a.n(d),m=a(136),h=a.n(m);t.default={data:function(){return{text:"获取",isDisabled:!1,msgCode:""}},props:{second:{type:Number,default:60},value:"",maxlength:{type:Number,default:6},bsnCode:{type:String,default:"MB1006"},type:{type:String,default:"number"},custNo:{type:String},placeholder:{type:String,default:"请输入验证码"},label:{type:String,default:"短信验证码"},phoneNumber:{type:String,default:""},beforeSubmit:{type:Function,default:function(){return!0}},afterSubmit:{type:Function,default:function(){return{}}},callback:{type:Function,default:function(){}},errCallback:{type:Function,default:function(){}},labelClass:{type:String,default:"text-width2"}},components:{Cell:c.a,XInput:u.a,XButton:p.a,countDown:h.a},computed:{},watch:{msgCode:function(){this.$emit("msg",this.msgCode)}},methods:{runTimer:function(){var i=this;this.beforeSubmit()&&new r.a(function(n,e){App.Native.getUserInfo(function(e){var t=e.userInfo||{},a=(t.sessionId,t.session_customerId);n(i.custNo||a)})}).then(function(e){var t=s()({custNo:e,bsnCode:i.bsnCode},i.afterSubmit());App.Native.rpc({operationType:"com.MB900021",data:t}).then(function(e){"0"===e.errorCode?(i.run(),i.callback&&i.callback(e.data)):(App.Native.alert(e.errorMsg),i.errCallback&&i.errCallback(e.errorMsg))},function(e){i.errCallback&&i.errCallback(e)})})},run:function(){this.time=this.second,this.$emit("send"),this.timer()},cancel:function(){clearInterval(this.timeoutId),this.text="获取",this.isDisabled=!1},timer:function(){0<this.time?(this.time--,this.text=this.time+"秒",this.timeoutId=setTimeout(this.timer,1e3),this.text=this.time+"秒",this.isDisabled=!0):(clearInterval(this.timeoutId),this.text="获取",this.isDisabled=!1)}}}},269:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(8),i=a.n(n);t.default={name:"countdown",data:function(){return{text:"获取",isDisabled:!1}},props:{second:{type:Number,default:60}},computed:{},components:{XButton:i.a},methods:{run:function(){this.time=this.second,this.$emit("send"),this.timer()},cancel:function(){clearInterval(this.timeoutId),this.text="获取",this.isDisabled=!1},timer:function(){0<this.time?(this.time--,this.text=this.time+"秒",this.timeoutId=setTimeout(this.timer,1e3),this.text=this.time+"秒",this.isDisabled=!0):(clearInterval(this.timeoutId),this.text="获取",this.isDisabled=!1)}}}},272:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(5),i=a.n(n),s=a(8),r=a.n(s);t.default={data:function(){return{val:this.value}},props:{value:[String,Number],label:String,labelClass:String,iconAccount:String,textClass:String,type:{type:String,default:"text"},placeholder:String,readonly:Boolean,isLink:Boolean,maxlength:{type:Number,default:16}},components:{Group:i.a,XButton:r.a},methods:{onChange:function(){this.$emit("input",this.val)},iconClick:function(){this.$emit("icon-click")}},watch:{value:function(){this.val=this.value}}}},296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n.n(a),s=n(14),r=n.n(s),l=n(5),c=n.n(l),o=n(6),u=n.n(o),d=n(8),p=n.n(d),m=n(11),h=n.n(m),f=n(50),v=n.n(f),b=n(62),g=n.n(b),y=n(42),C=n.n(y),N=n(682),x=n.n(N),S=n(136),w=n.n(S),A=n(95),_=n.n(A),k=n(195),I=n(715),T=(n.n(I),n(132)),P=(n.n(T),n(63)),M=(n.n(P),n(680)),B=n.n(M),D=App.parseQueryString();t.default={data:function(){return{messageShow:!1,certType:["IC"],certTypeList:[{name:"中国居民身份证",value:"IC"},{name:"临时身份证",value:"LS"},{name:"军人军官证",value:"JB"},{name:"军人文职干部证",value:"JC"},{name:"武警军官证",value:"TB"},{name:"港澳居民来往内地通行证",value:"IR"},{name:"台湾居民来往大录通行证",value:"IW"},{name:"护照",value:"PP"},{name:"外国人永久居留证",value:"TJ"},{name:"边民出入境通行证",value:"BM"},{name:"港澳居民居住证",value:"IB"},{name:"台湾居民居住证",value:"ID"},{name:"其他",value:"OT"}],payAccList:[],val1:[],idNumber:"",name:"",cardPassword:"",phoneNumber:"",msgCode:"",session_certType:"IC",originList:[],cardNumber:"",record:0,phone:"",num:18,Arr:"",isSend:!1,session_customerId:""}},components:{Group:c.a,Cell:u.a,XButton:p.a,XInput:h.a,PopupPicker:v.a,cellPicker:C.a,iconInput:x.a,countDown:w.a,SelectCard:g.a,checkIcon:_.a,Captcha:B.a},watch:{certType:function(){this.session_certType=this.certType[0],"IC"===this.certType[0]?this.num=18:this.num=""},val1:function(){for(var e=0;e<this.payAccList.length;e++)if(this.val1[0]==this.payAccList[e]){var t=e;this.cardNumber=this.originList[t],this.record=t}}},methods:{beforeSubmit:function(){return this.isSend=!0},afterSubmit:function(){return{phoneNumber:this.phoneNumber}},msg:function(e){this.msgCode=e},showMessage:function(){this.messageShow=!this.messageShow},getPassword:function(e){this.pwd=e.pwd,this.pwdRandomNum=e.random},checkSubmit:function(){return 18!==this.idNumber.length&&"IC"===this.certType[0]?(App.Native.alert("请输入18位身份证号码"),!1):""==this.idNumber.length?(App.Native.alert("请输入证件号码"),!1):""===this.name?(App.Native.alert("请输入真实姓名"),!1):""===this.cardPassword?(App.Native.alert("请输入卡密码"),!1):6!==this.cardPassword.length?(App.Native.alert("请输入6位卡密码"),!1):this.isSend?""===this.msgCode||6!==this.msgCode.length?(App.Native.alert("请输入6位验证码"),!1):!!this.messageShow||(App.Native.alert("请确认是您本人操作"),!1):(App.Native.alert("请先获取短信验证码！"),!1)},submit:function(){var a=this;this.checkSubmit()&&n.i(k.a)(this.msgCode).then(function(e){var t={acctNbr2:a.cardNumber,acctType1:"D",acctCurrCde1:"RMB",hldCde1:"18",subHldCde0100:"04",cardNo:a.cardNumber,pwd:a.pwd,pwdRandomNum:a.pwdRandomNum,name:a.name,session_certType:a.session_certType,session_certNo:a.idNumber,messageAuth:e,bsnCode:"MB1006"};App.Native.rpc({operationType:"com.MB200222",data:t}).then(function(e){"0"==e.errorCode?a.getDeviceId().then(function(e){App.Native.rpc({operationType:"com.MB200042",data:t}).then(function(e){if("0"==e.errorCode){a.payAccList.splice(a.record,1),a.originList.splice(a.record,1);var t=App.parseQueryString().backUrl;a.idNumber="",a.name="",a.cardPassword="",a.msgCode="",a.messageShow=!1,a.isSend=!1,a.$set(a.val1,0,a.payAccList[0]),0<a.payAccList.length?App.Native.pushWindow({url:"/financing/financialPurchase/identityResult.html",data:{num:1,backUrl:t,number:D.number},param:{readTitle:!1,defaultTitle:"提示"}}):App.Native.pushWindow({url:"/financing/financialPurchase/identityResult.html",data:{num:0,backUrl:t},param:{readTitle:!1,defaultTitle:"提示"}})}else App.Native.pushWindow({url:"/financing/financialPurchase/identityFail.html",data:{msg:e.errorMsg},param:{readTitle:!1,defaultTitle:"提示"}})})}):App.Native.pushWindow({url:"/financing/financialPurchase/identityFail.html",data:{msg:e.errorMsg},param:{readTitle:!1,defaultTitle:"提示"}})})})},getDeviceId:function(){var n=this;return new r.a(function(a,e){App.Native.getDeviceInfo().then(function(e){if("android"==App.device.os){var t=e.imei.split(":");n.getFaceQueryFlag(t[0],a)}else n.getFaceQueryFlag(e.deviceId,a)})})},getFaceQueryFlag:function(e,t){App.startFace({faceTransCode:"0611"}).then(function(e){e[0].status?t():"1003"!==e[0].faceResultCode&&App.Native.alert("对不起，未通过刷脸认证，无法继续验证")})},cancel:function(){AlipayJSBridge.call("getStartupParams",{key:["clientControl"]},function(e){e.clientControl?AlipayJSBridge.call("completeNoDeals",{},function(e){}):App.Native.closeTo({index:-1})})}},mounted:function(){},created:function(){var s=this;App.Native.getUserInfo(function(e){var t=e.userInfo,a=t.sessionId,n=t.session_customerId;s.session_customerId=n,App.Native.rpc({operationType:"com.MB306668",data:{sessionId:a}}).then(function(e){"0"==e.errorCode&&(s.phoneNumber=e.data.mobileNo,s.phone=App.protect(e.data.mobileNo))},function(e){}),new r.a(function(a,e){App.Native.rpc({operationType:"com.MB610006",showError:!0,data:{cardNo:"",custNo:n}}).then(function(e){var t=i()(e.data.suppressedCardList);a(t)})}).then(function(e){s.Arr=JSON.parse(e);for(var t=[],a=0;a<s.Arr.length;a++)t.push(s.Arr[a].cardNo);s.originList=[].concat(t);for(var n=[],i=0;i<t.length;i++)t[i]=App.protect(t[i]),n.push(t[i]),s.payAccList.push(t[i]);s.$set(s.val1,0,n[0]),s.$set(s.cardNumber,0,s.originList[0])})})},computed:{},activated:function(e){1==e.num&&this.$refs.countdown.cancel()}}},4:function(e,t){e.exports=vendor_library},437:function(e,t){},451:function(e,t){},452:function(e,t){},499:function(e,t){},507:function(e,t){},508:function(e,t){},585:function(e,t){e.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cell-input",{attrs:{label:t.label,"label-class":t.labelClass,maxlength:t.maxlength,"text-class":t.textClass,placeholder:t.placeholder,type:t.type,readonly:t.isLink},on:{input:t.onChange},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}},[a("div",{class:t.iconAccount,attrs:{slot:"right-icon"},on:{click:t.iconClick},slot:"right-icon"})])},staticRenderFns:[]}},598:function(e,t){e.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-page",[a("div",{staticClass:"main"},[a("group",{staticClass:"make-appoint"},[a("cell-picker",{attrs:{title:"付款账号","label-class":"label-class","title-class":"title-class",data:t.payAccList},model:{value:t.val1,callback:function(e){t.val1=e},expression:"val1"}}),t._v(" "),a("cell-picker",{attrs:{title:"证件类型",showName:!0,placeholder:"请选择证件类型","label-class":"label-class","title-class":"title-class",data:t.certTypeList},model:{value:t.certType,callback:function(e){t.certType=e},expression:"certType"}}),t._v(" "),a("cell-input",{attrs:{label:"证件号码",maxlength:t.num,"label-class":"label-class","text-class":"re-class",placeholder:"请输入证件号码"},model:{value:t.idNumber,callback:function(e){t.idNumber=e},expression:"idNumber"}}),t._v(" "),a("icon-input",{attrs:{label:"姓名",type:"text","label-class":"label-class","text-class":"text-class",placeholder:"请输入姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("cell-input",{attrs:{label:"卡密码",type:"password",maxlength:6,"label-class":"label-class","text-class":"text-class",placeholder:"请输入卡密码"},on:{getPassword:t.getPassword},model:{value:t.cardPassword,callback:function(e){t.cardPassword=e},expression:"cardPassword"}}),t._v(" "),a("v-cell",{staticClass:"can-use-money",attrs:{label:"手机号码","label-class":"label-class",value:t.phone}}),t._v(" "),a("Captcha",{ref:"countdown",attrs:{label:"短信验证码",maxlength:6,type:"tel",placeholder:"请输入验证码","label-class":"label-class",beforeSubmit:t.beforeSubmit,afterSubmit:t.afterSubmit},on:{msg:t.msg}})],1),t._v(" "),a("div",{staticClass:"message-title"},[a("check-icon",{model:{value:t.messageShow,callback:function(e){t.messageShow=e},expression:"messageShow"}},[a("p",[t._v("上述信息核实是本人行为，由此产生的一切责任由我本人承担。")])])],1),t._v(" "),a("div",{staticClass:"btn-area"},[a("v-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确  定")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("取  消")]),t._v(" "),a("br")],1)],1)])},staticRenderFns:[]}},640:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"btn-code-box"},[a("x-button",{staticClass:"get",class:{"code-disabled":e.isDisabled},attrs:{disabled:e.isDisabled}},[e._v(e._s(e.text))])],1)},staticRenderFns:[]}},649:function(e,t){e.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cell-input",{attrs:{label:t.label,type:t.type,maxlength:t.maxlength,"label-class":t.labelClass,"text-class":"text-class",placeholder:t.placeholder},model:{value:t.msgCode,callback:function(e){t.msgCode=e},expression:"msgCode"}},[a("div",{staticClass:"right-icon",attrs:{slot:"right-icon"},slot:"right-icon"},[a("div",{staticClass:"btn-code-box"},[a("x-button",{staticClass:"get",class:{"code-disabled":t.isDisabled},attrs:{disabled:t.isDisabled},nativeOn:{click:function(e){return t.runTimer(e)}}},[t._v(t._s(t.text))])],1)])])},staticRenderFns:[]}},680:function(e,t,a){var n=a(0)(a(266),a(649),function(e){a(508),a(507)},"data-v-b78fbb60",null);e.exports=n.exports},682:function(e,t,a){var n=a(0)(a(272),a(585),function(e){a(437)},null,null);e.exports=n.exports},715:function(e,t,a){e.exports=a(4)(333)}},[209]);