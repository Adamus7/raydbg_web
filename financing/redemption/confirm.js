webpackJsonp([25],{170:function(e,t,a){var l=a(0)(a(320),a(628),function(e){a(484)},null,null);e.exports=l.exports},226:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),o=(a(3),a(2)),r=a(170),s=a.n(r);App.vm=new l.default({mixins:o.a,render:function(e){return e(s.a)}})},320:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(7),o=a.n(l),r=a(5),s=a.n(r),p=a(8),i=a.n(p),n=a(9),d=App.parseQueryString(),c=JSON.parse(d.data);t.default={data:function(){return{cardNo:"",accountNo:"",vol:"",details:c,redeRule:"",pwd:"",password:"",pwdRandomNum:"",unUseVal:""}},components:{XButton:i.a,Group:s.a},filters:n.a,methods:{doRemote:function(e){App.remoteLog(e)},redempionAll:function(){this.vol=parseFloat(c.availVol).toFixed(2).toString()},getPassword:function(e){this.password=e.pwd,this.pwdRandomNum=e.random,this.doRemote("lc-sh-05")},checkSubmit:function(){var e=parseFloat(c.availVol)-parseFloat(this.vol);if(this.unUseVal=e,""===this.vol)return App.Native.alert("请输入赎回份额"),!1;if(0===parseFloat(this.vol))return App.Native.alert("赎回份额不能为0"),!1;if(parseFloat(this.vol)>parseFloat(c.availVol))return App.Native.alert("赎回份额不得大于可用份额"),!1;if(parseFloat(c.perRedeemMinAmt)&&parseFloat(this.vol)<parseFloat(c.perRedeemMinAmt))return App.Native.alert("该产品单笔最少赎回份额为"+c.perRedeemMinAmt+"份。"),!1;if(0!==e){if("0"!=parseFloat(c.perRedeemMinAmt)&&parseFloat(this.vol)%parseFloat(c.perRedeemMinAmt)!=0)return App.Native.alert("赎回份额应为"+c.perRedeemMinAmt+"的整数倍。"),!1;if(parseFloat(c.perRedeemMinAmt)&&parseFloat(this.vol)<parseFloat(c.perRedeemMinAmt))return App.Native.alert("该产品单笔最少赎回份额为"+c.perRedeemMinAmt+"份。"),!1;if(parseFloat(this.vol)%parseFloat(c.perRedeemMinAmt)!=0)return App.Native.alert("赎回份额应为"+c.perRedeemMinAmt+"的整数倍。"),!1;if(parseFloat(c.perHoldMinVol)&&e<parseFloat(c.perHoldMinVol))return App.Native.alert("部分赎回后，持有份额不得低于"+c.perHoldMinVol+"份。"),!1}return parseFloat(c.perRedeemMaxAmt)&&parseFloat(this.vol)>parseFloat(c.perRedeemMaxAmt)?(App.Native.alert("该产品单笔最大赎回份额为"+c.perRedeemMaxAmt+"份。"),!1):""===this.pwd?(App.Native.alert("请输入取款密码"),!1):6===this.pwd.length||(App.Native.alert("请输入6位取款密码"),!1)},doSubmit:function(){var t=this;this.checkSubmit()&&App.Native.rpc({operationType:"com.MB800016",data:{prdCode:c.prdCode,cardNo:this.cardNo,redeemType:0==this.unUseVal?"1":"0",vol:this.vol,sourcePwd:this.password,pwdRandom:this.pwdRandomNum}}).then(function(e){"ECIC2027"===e.errorCode&&"0"===c.transType&&"1301"!==c.templateCode?App.Native.pushWindow({url:"/financing/redemption/error.html"}):"0"!==e.errorCode?(App.pushResult({type:"error",code:e.errorCode,msg:e.errorMsg,mciCode:"1792001058",mciRemoteId:"lc-mci0058-03",backRemoteId:"lc-shjg-03",homeRemoteId:"lc-shjg-04"}),App.remoteLog("lc-shjg-02",{errorid:e.errorCode})):(App.Native.pushWindow({url:"/financing/financialPurchase/purchaseSuccess.html",data:{data:o()(c),vol:t.vol,type:"redemption",stat:e.data.stat,redeemAmtDate:e.data.redeemAmtDate}}),App.remoteLog("lc-shjg-01"))})}},mounted:function(){var a=this;App.Native.rpc({operationType:"com.MB030311",showError:!0,data:{prdType:"1"}}).then(function(e){var t=e.data.mbAccInfoIcoll[0];a.cardNo=t.cardNo,a.accountNo=parseInt(t.accountNo).toString()}),"0"===c.transType&&"1301"!==c.templateCode&&("ZXTTKX01"===c.prdCode?this.redeRule="如部分赎回,可赎回"+c.perRedeemMinAmt+"份的整数倍,但赎回后剩余份额不得少于"+c.perHoldMinVol+"份。":this.redeRule="赎回份额为"+c.perRedeemMinAmt+"份的整数倍（全部赎回不受限制）"),"havelist"===d.type?App.remoteLog("lc-sh-01"):App.remoteLog("lc-sh-02"),App.on("back",function(){App.remoteLog("lc-sh-07")}),App.on("subtitleClick",function(e){App.remoteLog("lc-sh-08")})}}},4:function(e,t){e.exports=vendor_library},484:function(e,t){},628:function(e,t){e.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-page",[a("div",{staticClass:"main"},[a("group",[a("v-cell",{attrs:{label:"理财卡号","label-class":"label-class",placeholder:"请输入理财卡号",value:t._f("formatCardNo")(t.cardNo)}}),t._v(" "),a("v-cell",{attrs:{label:"产品名称","label-class":"label-class",placeholder:"请输入产品名称",value:t.details.prdName}}),t._v(" "),"1307"!=t.details.templateCode&&"P920"!=t.details.templateCode?a("v-cell",{attrs:{label:"产品代码","label-class":"label-class",placeholder:"请输入产品代码",value:t.details.prdCode}}):t._e(),t._v(" "),a("v-cell",{attrs:{label:"可用份额","label-class":"label-class",placeholder:"请输入可用份额",value:t.details.availVol}}),t._v(" "),"0"===t.details.transType&&"1301"===t.details.templateCode||"1307"===t.details.templateCode||"P920"===t.details.templateCode?t._e():a("v-cell",{attrs:{label:"赎回规则","label-class":"label-class",value:t.redeRule}})],1),t._v(" "),a("group",[a("cell-input",{attrs:{label:"赎回份额",type:"amount","label-class":"label-class","text-class":"text-class",placeholder:"请输入赎回份额"},on:{numberBlur:function(e){t.doRemote("lc-sh-03")}},model:{value:t.vol,callback:function(e){t.vol=e},expression:"vol"}},[a("div",{staticClass:"right-btn",attrs:{slot:"right-icon"},slot:"right-icon"},[a("button",{staticClass:"btn",on:{click:function(e){t.doRemote("lc-sh-04"),t.redempionAll()}}},[t._v("全部赎回")])])]),t._v(" "),a("cell-input",{attrs:{label:"取款密码",type:"password","label-class":"label-class",placeholder:"请输入取款密码",maxlength:6},on:{getPassword:t.getPassword},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}})],1),t._v(" "),a("div",{staticClass:"btn-area"},[a("v-button",{attrs:{type:"primary"},on:{click:function(e){t.doRemote("lc-sh-06"),t.doSubmit()}}},[t._v("确  定")])],1),t._v(" "),"0"===t.details.transType&&"1700"===t.details.templateCode&&-1!=t.details.prdCode.indexOf("TTKX")?a("div",{staticClass:"notice"},[a("h3",[t._v("温馨提示：")]),t._v(" "),a("p",[t._v("有效交易时间：银行工作日北京时间9:00-15:30（根据系统处理情况，交易开始时间可早于9:00）"),a("br"),t._v("\n        当日非有效交易时间，赎回申请不予受理。")])]):t._e(),t._v(" "),a("mci",{attrs:{code:"1792001058",remoteId:"lc-mci0058-02",step:"M"}})],1)])},staticRenderFns:[]}}},[226]);